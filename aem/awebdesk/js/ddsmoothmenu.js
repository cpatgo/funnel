var ddsmoothmenu={arrowimages:{down:[],right:["rightarrowclass","../awebdesk/media/menu_right.gif"]},transition:{overtime:1,outtime:1},shadow:{enabled:false,offsetx:5,offsety:5},detectwebkit:navigator.userAgent.toLowerCase().indexOf("applewebkit")!=-1,getajaxmenu:function(c,a){var b=c("#"+a.contentsource[0]);b.html("Loading Menu...");c.ajax({url:a.contentsource[1],async:true,error:function(d){b.html("Error fetching content. Server Response: "+d.responseText)},success:function(d){b.html(d);ddsmoothmenu.buildmenu(c,a)}})},buildmenu:function(d,c){var e=ddsmoothmenu;var b=d("#"+c.mainmenuid+">ul");var a=b.find("ul").parent();a.each(function(h){var j=d(this);var g=d(this).find("ul:eq(0)").css({display:"block"});this._dimensions={w:this.offsetWidth,h:this.offsetHeight,subulw:g.outerWidth(),subulh:g.outerHeight()};this.istopheader=j.parents("ul").length==1?true:false;g.css({top:this.istopheader?this._dimensions.h+"px":0});j.children("a:eq(0)").css(this.istopheader?{paddingRight:e.arrowimages.down[2]}:{}).append("");if(e.shadow.enabled){this._shadowoffset={x:(this.istopheader?g.offset().left+e.shadow.offsetx:this._dimensions.w),y:(this.istopheader?g.offset().top+e.shadow.offsety:j.position().top)};var f=(this.istopheader)?d(document.body):ddsmoothmenu.$parentshadow;ddsmoothmenu.$parentshadow=this.$shadow=d('<div class="ddshadow'+(this.istopheader?" toplevelshadow":"")+'"></div>').prependTo(f).css({left:this._shadowoffset.x+"px",top:this._shadowoffset.y+"px"})}j.hover(function(n){var i=d(this).children("ul:eq(0)");this._offsets={left:d(this).offset().left,top:d(this).offset().top};var m=this.istopheader?0:this._dimensions.w;m=(this._offsets.left+m+this._dimensions.subulw>d(window).width())?(this.istopheader?-this._dimensions.subulw+this._dimensions.w:-this._dimensions.w):m;if(i.queue().length<=1){i.css({left:m+"px",width:this._dimensions.subulw+"px"}).animate({height:"show",opacity:"show"},ddsmoothmenu.transition.overtime);if(e.shadow.enabled){var l=this.istopheader?i.offset().left+ddsmoothmenu.shadow.offsetx:m;var k=this.istopheader?i.offset().top+e.shadow.offsety:this._shadowoffset.y;if(!this.istopheader&&ddsmoothmenu.detectwebkit){this.$shadow.css({opacity:1})}this.$shadow.css({overflow:"",width:this._dimensions.subulw+"px",left:l+"px",top:k+"px"}).animate({height:this._dimensions.subulh+"px"},ddsmoothmenu.transition.overtime)}}},function(k){var i=d(this).children("ul:eq(0)");i.animate({height:"hide",opacity:"hide"},ddsmoothmenu.transition.outtime);if(e.shadow.enabled){if(ddsmoothmenu.detectwebkit){this.$shadow.children("div:eq(0)").css({opacity:0})}this.$shadow.css({overflow:"hidden"}).animate({height:0},ddsmoothmenu.transition.outtime)}})});b.find("ul").css({display:"none",visibility:"visible"})},init:function(b){if(typeof b.customtheme=="object"&&b.customtheme.length==2){var a="#"+b.mainmenuid;document.write('<style type="text/css">\n'+a+", "+a+" ul li a {background:"+b.customtheme[0]+";}\n"+a+" ul li a:hover {background:"+b.customtheme[1]+";}\n</style>")}jQuery(document).ready(function(c){if(typeof b.contentsource=="object"){ddsmoothmenu.getajaxmenu(c,b)}else{ddsmoothmenu.buildmenu(c,b)}})}};ddsmoothmenu.init({mainmenuid:"smoothmenu1",contentsource:"markup"});